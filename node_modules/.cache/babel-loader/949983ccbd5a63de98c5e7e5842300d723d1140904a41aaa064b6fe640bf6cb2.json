{"ast":null,"code":"import _objectSpread from\"/Users/canyonsmith/Desktop/metrics-cc360-2025/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import axios from'axios';const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:60638';const api=axios.create({baseURL:API_BASE_URL,headers:{'Content-Type':'application/json'}});// Fetch all dashboard summary metrics\nexport const fetchDashboardMetrics=async(startDate,endDate)=>{try{const response=await api.get('/api/dashboard_metrics',{params:{start:startDate,end:endDate}});return response.data;}catch(error){console.error('Error fetching dashboard metrics:',error);throw error;}};// Micro-API functions for each metric's details\nexport const fetchDormantAccountRateDetails=function(startDate,endDate){let extraParams=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return fetchMetricDetails('dormant_account_rate',startDate,endDate,extraParams);};export const fetchInvoluntaryChurnRateDetails=function(startDate,endDate){let extraParams=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return fetchMetricDetails('involuntary_churn_rate',startDate,endDate,extraParams);};export const fetchDunningRecoveryRateDetails=function(startDate,endDate){let extraParams=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return fetchMetricDetails('dunning_recovery_rate',startDate,endDate,extraParams);};export const fetchT24hActivationRateDetails=function(startDate,endDate){let extraParams=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return fetchMetricDetails('t24h_activation_rate',startDate,endDate,extraParams);};export const fetchSourceAttributionCoverageDetails=function(startDate,endDate){let extraParams=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return fetchMetricDetails('source_attribution_coverage',startDate,endDate,extraParams);};export const fetchPlatformBreakdownDetails=function(startDate,endDate){let extraParams=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return fetchMetricDetails('platform_breakdown',startDate,endDate,extraParams);};export const fetchRootCauseParetoDetails=function(startDate,endDate){let extraParams=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return fetchMetricDetails('root_cause_pareto',startDate,endDate,extraParams);};export const fetchDailyTrendsDetails=function(startDate,endDate){let extraParams=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return fetchMetricDetails('daily_trends',startDate,endDate,extraParams);};// Generic fetch for metric details\nexport const fetchMetricDetails=async function(metric,startDate,endDate){let extraParams=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};try{const response=await api.get('/api/dashboard_metric_rows',{params:_objectSpread({metric,start:startDate,end:endDate},extraParams)});return response.data.rows||[];}catch(error){console.error(\"Error fetching \".concat(metric,\" details:\"),error);throw error;}};export default api;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","headers","fetchDashboardMetrics","startDate","endDate","response","get","params","start","end","data","error","console","fetchDormantAccountRateDetails","extraParams","arguments","length","undefined","fetchMetricDetails","fetchInvoluntaryChurnRateDetails","fetchDunningRecoveryRateDetails","fetchT24hActivationRateDetails","fetchSourceAttributionCoverageDetails","fetchPlatformBreakdownDetails","fetchRootCauseParetoDetails","fetchDailyTrendsDetails","metric","_objectSpread","rows","concat"],"sources":["/Users/canyonsmith/Desktop/metrics-cc360-2025/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:60638';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Fetch all dashboard summary metrics\nexport const fetchDashboardMetrics = async (startDate, endDate) => {\n  try {\n    const response = await api.get('/api/dashboard_metrics', {\n      params: { start: startDate, end: endDate },\n    });\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching dashboard metrics:', error);\n    throw error;\n  }\n};\n\n// Micro-API functions for each metric's details\nexport const fetchDormantAccountRateDetails = (startDate, endDate, extraParams = {}) =>\n  fetchMetricDetails('dormant_account_rate', startDate, endDate, extraParams);\n\nexport const fetchInvoluntaryChurnRateDetails = (startDate, endDate, extraParams = {}) =>\n  fetchMetricDetails('involuntary_churn_rate', startDate, endDate, extraParams);\n\nexport const fetchDunningRecoveryRateDetails = (startDate, endDate, extraParams = {}) =>\n  fetchMetricDetails('dunning_recovery_rate', startDate, endDate, extraParams);\n\nexport const fetchT24hActivationRateDetails = (startDate, endDate, extraParams = {}) =>\n  fetchMetricDetails('t24h_activation_rate', startDate, endDate, extraParams);\n\nexport const fetchSourceAttributionCoverageDetails = (startDate, endDate, extraParams = {}) =>\n  fetchMetricDetails('source_attribution_coverage', startDate, endDate, extraParams);\n\nexport const fetchPlatformBreakdownDetails = (startDate, endDate, extraParams = {}) =>\n  fetchMetricDetails('platform_breakdown', startDate, endDate, extraParams);\n\nexport const fetchRootCauseParetoDetails = (startDate, endDate, extraParams = {}) =>\n  fetchMetricDetails('root_cause_pareto', startDate, endDate, extraParams);\n\nexport const fetchDailyTrendsDetails = (startDate, endDate, extraParams = {}) =>\n  fetchMetricDetails('daily_trends', startDate, endDate, extraParams);\n\n// Generic fetch for metric details\nexport const fetchMetricDetails = async (metric, startDate, endDate, extraParams = {}) => {\n  try {\n    const response = await api.get('/api/dashboard_metric_rows', {\n      params: { metric, start: startDate, end: endDate, ...extraParams },\n    });\n    return response.data.rows || [];\n  } catch (error) {\n    console.error(`Error fetching ${metric} details:`, error);\n    throw error;\n  }\n};\n\nexport default api; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}