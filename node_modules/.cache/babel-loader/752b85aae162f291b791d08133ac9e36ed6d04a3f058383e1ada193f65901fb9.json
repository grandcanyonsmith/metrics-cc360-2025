{"ast":null,"code":"var _jsxFileName = \"/Users/canyonsmith/Desktop/metrics-cc360-2025/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { subDays } from 'date-fns';\nimport { fetchDashboardMetrics, fetchMetricDetails } from './services/api';\nimport MetricCard from './components/MetricCard';\nimport DateRangePicker from './components/DateRangePicker';\nimport MetricDetailsModal from './components/MetricDetailsModal';\nimport { BarChart3, TrendingUp, Users, CreditCard, Activity, Target, Monitor, Calendar, AlertTriangle } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [startDate, setStartDate] = useState(subDays(new Date(), 30));\n  const [endDate, setEndDate] = useState(new Date());\n  const [metrics, setMetrics] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n  const [selectedMetric, setSelectedMetric] = useState(null);\n  const [metricDetails, setMetricDetails] = useState([]);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isDetailsLoading, setIsDetailsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [showOnlyNonActivated, setShowOnlyNonActivated] = useState(false);\n  const [showOnlyDormant, setShowOnlyDormant] = useState(false);\n  const metricConfigs = {\n    'dormant_account_rate': {\n      title: 'Dormant Account Rate',\n      icon: Users,\n      description: 'Percentage of new purchasers with zero sessions after first purchase',\n      format: 'percentage'\n    },\n    'involuntary_churn_rate': {\n      title: 'Involuntary Churn Rate',\n      icon: CreditCard,\n      description: 'Percentage of subscriptions canceled due to failed payments',\n      format: 'percentage'\n    },\n    'dunning_recovery_rate': {\n      title: 'Dunning Recovery Rate',\n      icon: AlertTriangle,\n      description: 'Percentage of failed payments that were successfully recovered',\n      format: 'percentage'\n    },\n    't24h_activation_rate': {\n      title: '24h Activation Rate',\n      icon: Target,\n      description: 'Percentage of new users who performed a key action within 24 hours',\n      format: 'percentage'\n    },\n    'source_attribution_coverage': {\n      title: 'Source Attribution Coverage',\n      icon: BarChart3,\n      description: 'Percentage of pageviews with campaign attribution data',\n      format: 'percentage'\n    },\n    'platform_breakdown': {\n      title: 'Platform Breakdown',\n      icon: Monitor,\n      description: 'Top platforms by event count',\n      format: 'list'\n    },\n    'root_cause_pareto': {\n      title: 'Root Cause Pareto',\n      icon: Activity,\n      description: 'Top payment failure reasons',\n      format: 'pareto'\n    },\n    'daily_trends': {\n      title: 'Daily Event Trends',\n      icon: Calendar,\n      description: 'Daily event counts and user activity',\n      format: 'trends'\n    }\n  };\n  useEffect(() => {\n    fetchMetrics();\n  }, [startDate, endDate]);\n  const fetchMetrics = async () => {\n    setIsLoading(true);\n    setError(null);\n    try {\n      const data = await fetchDashboardMetrics(startDate.toISOString(), endDate.toISOString());\n      setMetrics(data);\n    } catch (error) {\n      console.error('Failed to fetch metrics:', error);\n      setError('Failed to load metrics. Please check your connection and try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleViewDetails = async metric => {\n    setSelectedMetric(metric);\n    setIsModalOpen(true);\n    setIsDetailsLoading(true);\n    let extraParams = {};\n    if (metric === 't24h_activation_rate' && showOnlyNonActivated) {\n      extraParams.activated = 'false';\n    }\n    if (metric === 'dormant_account_rate' && showOnlyDormant) {\n      extraParams.dormant = 'true';\n    }\n    try {\n      const details = await fetchMetricDetails(metric, startDate.toISOString(), endDate.toISOString(), extraParams);\n      setMetricDetails(details);\n    } catch (error) {\n      console.error('Failed to fetch metric details:', error);\n      setMetricDetails([]);\n    } finally {\n      setIsDetailsLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (isModalOpen && selectedMetric === 't24h_activation_rate') {\n      handleViewDetails('t24h_activation_rate');\n    }\n    // eslint-disable-next-line\n  }, [showOnlyNonActivated]);\n  useEffect(() => {\n    if (isModalOpen && selectedMetric === 'dormant_account_rate') {\n      handleViewDetails('dormant_account_rate');\n    }\n    // eslint-disable-next-line\n  }, [showOnlyDormant]);\n  const handleDateChange = (newStartDate, newEndDate) => {\n    setStartDate(newStartDate);\n    setEndDate(newEndDate);\n  };\n  const closeModal = () => {\n    setIsModalOpen(false);\n    setSelectedMetric(null);\n    setMetricDetails([]);\n  };\n  const formatValue = (value, format) => {\n    if (value === null || value === undefined) return 'N/A';\n    switch (format) {\n      case 'percentage':\n        return `${(value * 100).toFixed(1)}%`;\n      case 'number':\n        return value.toLocaleString();\n      default:\n        return value.toString();\n    }\n  };\n  const renderPlatformBreakdown = data => {\n    if (!data || !Array.isArray(data)) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-2\",\n      children: [data.slice(0, 3).map((platform, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between text-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-gray-600\",\n          children: platform.platform\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"font-medium\",\n          children: platform.event_count.toLocaleString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 11\n      }, this)), data.length > 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-gray-500 text-center\",\n        children: [\"+\", data.length - 3, \" more platforms\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this);\n  };\n  const renderParetoBreakdown = data => {\n    if (!data || !Array.isArray(data)) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-2\",\n      children: data.map((item, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"bg-purple-700/80 text-white px-2 py-1 rounded font-mono text-xs\",\n          children: item.reason\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"bg-gray-900/80 text-white px-2 py-1 rounded font-mono text-base font-bold\",\n          children: item.count.toLocaleString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 13\n        }, this)]\n      }, idx, true, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-sm border-b\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between h-16\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n              className: \"w-8 h-8 text-primary-600 mr-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-2xl font-bold text-gray-900\",\n              children: \"SaaS Metrics Dashboard\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: [startDate.toLocaleDateString(), \" - \", endDate.toLocaleDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\",\n      children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-6 bg-red-50 border border-red-200 rounded-md p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"h-5 w-5 text-red-400\",\n              viewBox: \"0 0 20 20\",\n              fill: \"currentColor\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ml-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-sm font-medium text-red-800\",\n              children: \"Error loading metrics\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-2 text-sm text-red-700\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1\",\n          children: /*#__PURE__*/_jsxDEV(DateRangePicker, {\n            startDate: startDate,\n            endDate: endDate,\n            onDateChange: handleDateChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-3\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\",\n            children: Object.entries(metricConfigs).map(([key, config]) => {\n              const metric = metrics[key];\n              const Icon = config.icon;\n              if (!metric) {\n                return /*#__PURE__*/_jsxDEV(MetricCard, {\n                  title: config.title,\n                  value: null,\n                  definition: config.description,\n                  status: \"missing\",\n                  message: \"No data available\",\n                  isLoading: isLoading\n                }, key, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 21\n                }, this);\n              }\n              let displayValue = null;\n              let displayContent = null;\n              if (config.format === 'list' && metric.data) {\n                displayContent = renderPlatformBreakdown(metric.data);\n              } else if (config.format === 'pareto' && metric.data) {\n                displayContent = renderParetoBreakdown(metric.data);\n              } else if (metric.value !== null && metric.value !== undefined) {\n                displayValue = formatValue(metric.value, config.format);\n              }\n              return /*#__PURE__*/_jsxDEV(MetricCard, {\n                title: config.title,\n                value: displayValue,\n                content: displayContent,\n                definition: config.description,\n                status: metric.status || 'ok',\n                message: metric.message,\n                numerator: metric.numerator,\n                denominator: metric.denominator,\n                onViewDetails: () => handleViewDetails(key),\n                isLoading: isLoading\n              }, key, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this), metrics.daily_trends && metrics.daily_trends.data && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg border p-6 shadow-sm mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold text-gray-900 mb-4\",\n          children: \"Daily Event Trends\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"min-w-full divide-y divide-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-gray-50\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Event\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 300,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Count\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",\n                  children: \"Unique Users\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 302,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 298,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              className: \"bg-white divide-y divide-gray-200\",\n              children: metrics.daily_trends.data.slice(0, 10).map((row, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: row.date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 308,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: row.event\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 309,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: row.event_count.toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 310,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",\n                  children: row.unique_users.toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MetricDetailsModal, {\n      isOpen: isModalOpen,\n      onClose: closeModal,\n      metric: selectedMetric,\n      data: metricDetails,\n      isLoading: isDetailsLoading,\n      showOnlyNonActivated: showOnlyNonActivated,\n      setShowOnlyNonActivated: setShowOnlyNonActivated,\n      showOnlyDormant: showOnlyDormant,\n      setShowOnlyDormant: setShowOnlyDormant\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 321,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 199,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"ZkXgkX2LONdGfVJYN6lNSgrGsyY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","subDays","fetchDashboardMetrics","fetchMetricDetails","MetricCard","DateRangePicker","MetricDetailsModal","BarChart3","TrendingUp","Users","CreditCard","Activity","Target","Monitor","Calendar","AlertTriangle","jsxDEV","_jsxDEV","App","_s","startDate","setStartDate","Date","endDate","setEndDate","metrics","setMetrics","isLoading","setIsLoading","selectedMetric","setSelectedMetric","metricDetails","setMetricDetails","isModalOpen","setIsModalOpen","isDetailsLoading","setIsDetailsLoading","error","setError","showOnlyNonActivated","setShowOnlyNonActivated","showOnlyDormant","setShowOnlyDormant","metricConfigs","title","icon","description","format","fetchMetrics","data","toISOString","console","handleViewDetails","metric","extraParams","activated","dormant","details","handleDateChange","newStartDate","newEndDate","closeModal","formatValue","value","undefined","toFixed","toLocaleString","toString","renderPlatformBreakdown","Array","isArray","className","children","slice","map","platform","index","fileName","_jsxFileName","lineNumber","columnNumber","event_count","length","renderParetoBreakdown","item","idx","reason","count","toLocaleDateString","viewBox","fill","fillRule","d","clipRule","onDateChange","Object","entries","key","config","Icon","definition","status","message","displayValue","displayContent","content","numerator","denominator","onViewDetails","daily_trends","row","date","event","unique_users","isOpen","onClose","_c","$RefreshReg$"],"sources":["/Users/canyonsmith/Desktop/metrics-cc360-2025/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { subDays } from 'date-fns';\nimport { fetchDashboardMetrics, fetchMetricDetails } from './services/api';\nimport MetricCard from './components/MetricCard';\nimport DateRangePicker from './components/DateRangePicker';\nimport MetricDetailsModal from './components/MetricDetailsModal';\nimport { BarChart3, TrendingUp, Users, CreditCard, Activity, Target, Monitor, Calendar, AlertTriangle } from 'lucide-react';\n\nfunction App() {\n  const [startDate, setStartDate] = useState(subDays(new Date(), 30));\n  const [endDate, setEndDate] = useState(new Date());\n  const [metrics, setMetrics] = useState({});\n  const [isLoading, setIsLoading] = useState(true);\n  const [selectedMetric, setSelectedMetric] = useState(null);\n  const [metricDetails, setMetricDetails] = useState([]);\n  const [isModalOpen, setIsModalOpen] = useState(false);\n  const [isDetailsLoading, setIsDetailsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [showOnlyNonActivated, setShowOnlyNonActivated] = useState(false);\n  const [showOnlyDormant, setShowOnlyDormant] = useState(false);\n\n  const metricConfigs = {\n    'dormant_account_rate': {\n      title: 'Dormant Account Rate',\n      icon: Users,\n      description: 'Percentage of new purchasers with zero sessions after first purchase',\n      format: 'percentage'\n    },\n    'involuntary_churn_rate': {\n      title: 'Involuntary Churn Rate',\n      icon: CreditCard,\n      description: 'Percentage of subscriptions canceled due to failed payments',\n      format: 'percentage'\n    },\n    'dunning_recovery_rate': {\n      title: 'Dunning Recovery Rate',\n      icon: AlertTriangle,\n      description: 'Percentage of failed payments that were successfully recovered',\n      format: 'percentage'\n    },\n    't24h_activation_rate': {\n      title: '24h Activation Rate',\n      icon: Target,\n      description: 'Percentage of new users who performed a key action within 24 hours',\n      format: 'percentage'\n    },\n    'source_attribution_coverage': {\n      title: 'Source Attribution Coverage',\n      icon: BarChart3,\n      description: 'Percentage of pageviews with campaign attribution data',\n      format: 'percentage'\n    },\n    'platform_breakdown': {\n      title: 'Platform Breakdown',\n      icon: Monitor,\n      description: 'Top platforms by event count',\n      format: 'list'\n    },\n    'root_cause_pareto': {\n      title: 'Root Cause Pareto',\n      icon: Activity,\n      description: 'Top payment failure reasons',\n      format: 'pareto'\n    },\n    'daily_trends': {\n      title: 'Daily Event Trends',\n      icon: Calendar,\n      description: 'Daily event counts and user activity',\n      format: 'trends'\n    }\n  };\n\n  useEffect(() => {\n    fetchMetrics();\n  }, [startDate, endDate]);\n\n  const fetchMetrics = async () => {\n    setIsLoading(true);\n    setError(null);\n    \n    try {\n      const data = await fetchDashboardMetrics(\n        startDate.toISOString(),\n        endDate.toISOString()\n      );\n      setMetrics(data);\n    } catch (error) {\n      console.error('Failed to fetch metrics:', error);\n      setError('Failed to load metrics. Please check your connection and try again.');\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleViewDetails = async (metric) => {\n    setSelectedMetric(metric);\n    setIsModalOpen(true);\n    setIsDetailsLoading(true);\n    let extraParams = {};\n    if (metric === 't24h_activation_rate' && showOnlyNonActivated) {\n      extraParams.activated = 'false';\n    }\n    if (metric === 'dormant_account_rate' && showOnlyDormant) {\n      extraParams.dormant = 'true';\n    }\n    try {\n      const details = await fetchMetricDetails(\n        metric,\n        startDate.toISOString(),\n        endDate.toISOString(),\n        extraParams\n      );\n      setMetricDetails(details);\n    } catch (error) {\n      console.error('Failed to fetch metric details:', error);\n      setMetricDetails([]);\n    } finally {\n      setIsDetailsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (isModalOpen && selectedMetric === 't24h_activation_rate') {\n      handleViewDetails('t24h_activation_rate');\n    }\n    // eslint-disable-next-line\n  }, [showOnlyNonActivated]);\n\n  useEffect(() => {\n    if (isModalOpen && selectedMetric === 'dormant_account_rate') {\n      handleViewDetails('dormant_account_rate');\n    }\n    // eslint-disable-next-line\n  }, [showOnlyDormant]);\n\n  const handleDateChange = (newStartDate, newEndDate) => {\n    setStartDate(newStartDate);\n    setEndDate(newEndDate);\n  };\n\n  const closeModal = () => {\n    setIsModalOpen(false);\n    setSelectedMetric(null);\n    setMetricDetails([]);\n  };\n\n  const formatValue = (value, format) => {\n    if (value === null || value === undefined) return 'N/A';\n    \n    switch (format) {\n      case 'percentage':\n        return `${(value * 100).toFixed(1)}%`;\n      case 'number':\n        return value.toLocaleString();\n      default:\n        return value.toString();\n    }\n  };\n\n  const renderPlatformBreakdown = (data) => {\n    if (!data || !Array.isArray(data)) return null;\n    \n    return (\n      <div className=\"space-y-2\">\n        {data.slice(0, 3).map((platform, index) => (\n          <div key={index} className=\"flex justify-between text-sm\">\n            <span className=\"text-gray-600\">{platform.platform}</span>\n            <span className=\"font-medium\">{platform.event_count.toLocaleString()}</span>\n          </div>\n        ))}\n        {data.length > 3 && (\n          <div className=\"text-xs text-gray-500 text-center\">\n            +{data.length - 3} more platforms\n          </div>\n        )}\n      </div>\n    );\n  };\n\n  const renderParetoBreakdown = (data) => {\n    if (!data || !Array.isArray(data)) return null;\n    return (\n      <div className=\"space-y-2\">\n        {data.map((item, idx) => (\n          <div key={idx} className=\"flex items-center justify-between\">\n            <span className=\"bg-purple-700/80 text-white px-2 py-1 rounded font-mono text-xs\">\n              {item.reason}\n            </span>\n            <span className=\"bg-gray-900/80 text-white px-2 py-1 rounded font-mono text-base font-bold\">\n              {item.count.toLocaleString()}\n            </span>\n          </div>\n        ))}\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      <div className=\"bg-white shadow-sm border-b\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-16\">\n            <div className=\"flex items-center\">\n              <BarChart3 className=\"w-8 h-8 text-primary-600 mr-3\" />\n              <h1 className=\"text-2xl font-bold text-gray-900\">SaaS Metrics Dashboard</h1>\n            </div>\n            <div className=\"text-sm text-gray-500\">\n              {startDate.toLocaleDateString()} - {endDate.toLocaleDateString()}\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {error && (\n          <div className=\"mb-6 bg-red-50 border border-red-200 rounded-md p-4\">\n            <div className=\"flex\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-5 w-5 text-red-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <div className=\"ml-3\">\n                <h3 className=\"text-sm font-medium text-red-800\">Error loading metrics</h3>\n                <div className=\"mt-2 text-sm text-red-700\">{error}</div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-8\">\n          <div className=\"lg:col-span-1\">\n            <DateRangePicker\n              startDate={startDate}\n              endDate={endDate}\n              onDateChange={handleDateChange}\n            />\n          </div>\n          \n          <div className=\"lg:col-span-3\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\n              {Object.entries(metricConfigs).map(([key, config]) => {\n                const metric = metrics[key];\n                const Icon = config.icon;\n                \n                if (!metric) {\n                  return (\n                    <MetricCard\n                      key={key}\n                      title={config.title}\n                      value={null}\n                      definition={config.description}\n                      status=\"missing\"\n                      message=\"No data available\"\n                      isLoading={isLoading}\n                    />\n                  );\n                }\n\n                let displayValue = null;\n                let displayContent = null;\n\n                if (config.format === 'list' && metric.data) {\n                  displayContent = renderPlatformBreakdown(metric.data);\n                } else if (config.format === 'pareto' && metric.data) {\n                  displayContent = renderParetoBreakdown(metric.data);\n                } else if (metric.value !== null && metric.value !== undefined) {\n                  displayValue = formatValue(metric.value, config.format);\n                }\n\n                return (\n                  <MetricCard\n                    key={key}\n                    title={config.title}\n                    value={displayValue}\n                    content={displayContent}\n                    definition={config.description}\n                    status={metric.status || 'ok'}\n                    message={metric.message}\n                    numerator={metric.numerator}\n                    denominator={metric.denominator}\n                    onViewDetails={() => handleViewDetails(key)}\n                    isLoading={isLoading}\n                  />\n                );\n              })}\n            </div>\n          </div>\n        </div>\n\n        {/* Additional sections for detailed data */}\n        {metrics.daily_trends && metrics.daily_trends.data && (\n          <div className=\"bg-white rounded-lg border p-6 shadow-sm mb-6\">\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Daily Event Trends</h2>\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Date</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Event</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Count</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Unique Users</th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {metrics.daily_trends.data.slice(0, 10).map((row, index) => (\n                    <tr key={index}>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{row.date}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{row.event}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{row.event_count.toLocaleString()}</td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">{row.unique_users.toLocaleString()}</td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        )}\n      </div>\n\n      <MetricDetailsModal\n        isOpen={isModalOpen}\n        onClose={closeModal}\n        metric={selectedMetric}\n        data={metricDetails}\n        isLoading={isDetailsLoading}\n        showOnlyNonActivated={showOnlyNonActivated}\n        setShowOnlyNonActivated={setShowOnlyNonActivated}\n        showOnlyDormant={showOnlyDormant}\n        setShowOnlyDormant={setShowOnlyDormant}\n      />\n    </div>\n  );\n}\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}