{"ast":null,"code":"import React from'react';import{X}from'lucide-react';import{cn}from'../utils/cn';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const MetricDetailsModal=_ref=>{let{isOpen,onClose,metric,data,isLoading}=_ref;if(!isOpen)return null;const getMetricTitle=metric=>{const titles={'dormant_account_rate':'Dormant Account Rate','involuntary_churn_rate':'Involuntary Churn Rate','dunning_recovery_rate':'Dunning Recovery Rate','t24h_activation_rate':'24h Activation Rate','source_attribution_coverage':'Source Attribution Coverage'};return titles[metric]||metric.replace(/_/g,' ').replace(/\\b\\w/g,l=>l.toUpperCase());};const getColumnHeaders=metric=>{const headers={'dormant_account_rate':['Customer ID','First Purchase','Email','Customer Name','Subscription ID'],'involuntary_churn_rate':['Customer ID','Canceled At','Email','Customer Name'],'dunning_recovery_rate':['Invoice ID','Customer ID','Paid At','Email'],'t24h_activation_rate':['Customer ID','First Purchase','Activation Time','Email','Customer Name'],'source_attribution_coverage':['ID','Campaign Source','Campaign Medium','Campaign Name','Timestamp']};return headers[metric]||Object.keys(data[0]||{}).map(key=>key.replace(/_/g,' ').replace(/\\b\\w/g,l=>l.toUpperCase()));};const formatDate=dateString=>{if(!dateString)return'N/A';try{return new Date(dateString).toLocaleString();}catch(_unused){return dateString;}};return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-6 border-b\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:[getMetricTitle(metric),\" Details\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"p-2 text-gray-400 hover:text-gray-600 transition-colors\",children:/*#__PURE__*/_jsx(X,{className:\"w-5 h-5\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 overflow-auto max-h-[calc(90vh-120px)]\",children:isLoading?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:[...Array(5)].map((_,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"animate-pulse\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-3/4 mb-2\"}),/*#__PURE__*/_jsx(\"div\",{className:\"h-4 bg-gray-200 rounded w-1/2\"})]},i))}):data&&data.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsx(\"tr\",{children:getColumnHeaders(metric).map((header,index)=>/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:header},index))})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:data.map((row,rowIndex)=>/*#__PURE__*/_jsx(\"tr\",{className:\"hover:bg-gray-50\",children:Object.values(row).map((value,colIndex)=>/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:typeof value==='string'&&value.includes('T')?formatDate(value):value||'N/A'},colIndex))},rowIndex))})]})}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-8\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No data available for this metric in the selected date range.\"})})})]})});};export default MetricDetailsModal;","map":{"version":3,"names":["React","X","cn","jsxs","_jsxs","jsx","_jsx","MetricDetailsModal","_ref","isOpen","onClose","metric","data","isLoading","getMetricTitle","titles","replace","l","toUpperCase","getColumnHeaders","headers","Object","keys","map","key","formatDate","dateString","Date","toLocaleString","_unused","className","children","onClick","Array","_","i","length","header","index","row","rowIndex","values","value","colIndex","includes"],"sources":["/Users/canyonsmith/Desktop/metrics-cc360-2025/src/components/MetricDetailsModal.jsx"],"sourcesContent":["import React from 'react';\nimport { X } from 'lucide-react';\nimport { cn } from '../utils/cn';\n\nconst MetricDetailsModal = ({ isOpen, onClose, metric, data, isLoading }) => {\n  if (!isOpen) return null;\n\n  const getMetricTitle = (metric) => {\n    const titles = {\n      'dormant_account_rate': 'Dormant Account Rate',\n      'involuntary_churn_rate': 'Involuntary Churn Rate',\n      'dunning_recovery_rate': 'Dunning Recovery Rate',\n      't24h_activation_rate': '24h Activation Rate',\n      'source_attribution_coverage': 'Source Attribution Coverage',\n    };\n    return titles[metric] || metric.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase());\n  };\n\n  const getColumnHeaders = (metric) => {\n    const headers = {\n      'dormant_account_rate': ['Customer ID', 'First Purchase', 'Email', 'Customer Name', 'Subscription ID'],\n      'involuntary_churn_rate': ['Customer ID', 'Canceled At', 'Email', 'Customer Name'],\n      'dunning_recovery_rate': ['Invoice ID', 'Customer ID', 'Paid At', 'Email'],\n      't24h_activation_rate': ['Customer ID', 'First Purchase', 'Activation Time', 'Email', 'Customer Name'],\n      'source_attribution_coverage': ['ID', 'Campaign Source', 'Campaign Medium', 'Campaign Name', 'Timestamp'],\n    };\n    return headers[metric] || Object.keys(data[0] || {}).map(key => key.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase()));\n  };\n\n  const formatDate = (dateString) => {\n    if (!dateString) return 'N/A';\n    try {\n      return new Date(dateString).toLocaleString();\n    } catch {\n      return dateString;\n    }\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div className=\"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden\">\n        <div className=\"flex items-center justify-between p-6 border-b\">\n          <h2 className=\"text-xl font-semibold text-gray-900\">\n            {getMetricTitle(metric)} Details\n          </h2>\n          <button\n            onClick={onClose}\n            className=\"p-2 text-gray-400 hover:text-gray-600 transition-colors\"\n          >\n            <X className=\"w-5 h-5\" />\n          </button>\n        </div>\n\n        <div className=\"p-6 overflow-auto max-h-[calc(90vh-120px)]\">\n          {isLoading ? (\n            <div className=\"space-y-4\">\n              {[...Array(5)].map((_, i) => (\n                <div key={i} className=\"animate-pulse\">\n                  <div className=\"h-4 bg-gray-200 rounded w-3/4 mb-2\"></div>\n                  <div className=\"h-4 bg-gray-200 rounded w-1/2\"></div>\n                </div>\n              ))}\n            </div>\n          ) : data && data.length > 0 ? (\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    {getColumnHeaders(metric).map((header, index) => (\n                      <th\n                        key={index}\n                        className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                      >\n                        {header}\n                      </th>\n                    ))}\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {data.map((row, rowIndex) => (\n                    <tr key={rowIndex} className=\"hover:bg-gray-50\">\n                      {Object.values(row).map((value, colIndex) => (\n                        <td\n                          key={colIndex}\n                          className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\"\n                        >\n                          {typeof value === 'string' && value.includes('T') \n                            ? formatDate(value) \n                            : value || 'N/A'}\n                        </td>\n                      ))}\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          ) : (\n            <div className=\"text-center py-8\">\n              <p className=\"text-gray-500\">No data available for this metric in the selected date range.</p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default MetricDetailsModal; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}